{% extends "base.html" %}

{% load crispy_forms_tags %}

{% block content %}

{% for message in messages %}
  <div class="alert {{ message.tags }} alert-dismissible" role="alert" style="background-color: #ffbd08; color: black;">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    {{ message }}
  </div>
{% endfor %}

<style>
    .card-img{
        max-width: 150px;
        max-height: 150px;
        margin: 0 auto;
        border-radius: 100%;
        margin-block: 20pt;
    }
    .card{
        align-self: center;
        width: 100%;
    }
</style>

<h3 class="h3-table">Settings Account</h3>

<section>
    <div class="row">
        <div class="col-4">
            <div class="card " style="width: 100%; text-align: center; height: 100%; background-color: white;">
                <img src="{{user.profile.profile_pic.url}}" class="card-img" alt="">
                <div class="card-body">
                    <br>
                    <a href="{% url 'password_change' %}" class="btn btn-success btn-md">Password</a>
                </div>
            </div>
        </div>
        <div class="col-8">
            <div class="card">
                <form enctype="multipart/form-data" action="" method="POST" style="background-color: white;">{% csrf_token %}
                    <div class="col-md-12">
                        {{form.first_name|as_crispy_field}}
                    </div>
                    <div class="col-md-12">
                        {{form.last_name|as_crispy_field}}
                    </div>
                    <div class="col-md-12">
                        {{form.phone|as_crispy_field}}
                    </div>
                    <br>
                    <div class="col-md-12">
                        <div class="custom-file">
                            <input type="file" name="profile_pic" class="custom-file-input" id="customFile" accept="image/*"> 
                            <label class="custom-file-label" for="customFile">Choose image file</label>
                        </div>
                    </div>
                    <br>
                    <div class="col-md-12">
                        <br>
                        <center>
                        <button type="submit" class="btn btn-info">Update</button>
                    </center>
                    </div>
                    <br>
                </form>
            </div>
        </div>
    </div>
    <br>
</section>

{% endblock %}